"use strict";(globalThis.webpackChunksaturn_cli_docs=globalThis.webpackChunksaturn_cli_docs||[]).push([[13],{7309:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting Saturn CLI - Common Issues & Solutions","description":"Solutions to common issues when using Saturn CLI. Troubleshoot connection problems, job execution errors, and configuration issues.","source":"@site/docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/saturncli/docs/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/Kingson4Wu/saturncli/tree/main/documentation/docs/troubleshooting.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"Troubleshooting Saturn CLI - Common Issues & Solutions","description":"Solutions to common issues when using Saturn CLI. Troubleshoot connection problems, job execution errors, and configuration issues.","keywords":["saturn cli troubleshooting","go cli errors","unix domain sockets issues","saturn cli problems","job execution errors","cli debugging"]},"sidebar":"tutorialSidebar","previous":{"title":"Saturn CLI Examples - Real World Go Job Execution Use Cases","permalink":"/saturncli/docs/examples"},"next":{"title":"Best Practices - Optimal Saturn CLI Usage for Go Applications","permalink":"/saturncli/docs/best-practices"}}');var t=s(4848),i=s(8453);const o={sidebar_position:9,title:"Troubleshooting Saturn CLI - Common Issues & Solutions",description:"Solutions to common issues when using Saturn CLI. Troubleshoot connection problems, job execution errors, and configuration issues.",keywords:["saturn cli troubleshooting","go cli errors","unix domain sockets issues","saturn cli problems","job execution errors","cli debugging"]},l="Troubleshooting",c={},a=[{value:"Connection Issues",id:"connection-issues",level:2},{value:"&quot;Connection Refused&quot; Error",id:"connection-refused-error",level:3},{value:"Socket File Permission Errors",id:"socket-file-permission-errors",level:3},{value:"Job Registration Issues",id:"job-registration-issues",level:2},{value:"&quot;Job Not Found&quot; Error",id:"job-not-found-error",level:3},{value:"Platform-Specific Issues",id:"platform-specific-issues",level:2},{value:"Windows TCP Connection Issues",id:"windows-tcp-connection-issues",level:3},{value:"Stoppable Job Issues",id:"stoppable-job-issues",level:2},{value:"Jobs Don&#39;t Stop When Requested",id:"jobs-dont-stop-when-requested",level:3},{value:"Parameter Issues",id:"parameter-issues",level:2},{value:"Parameters Not Passed Correctly",id:"parameters-not-passed-correctly",level:3},{value:"Performance Issues",id:"performance-issues",level:2},{value:"High Memory Usage",id:"high-memory-usage",level:3},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"Enable Detailed Logging",id:"enable-detailed-logging",level:3},{value:"Test Job Registration Directly",id:"test-job-registration-directly",level:3},{value:"Common Exit Codes and Their Meanings",id:"common-exit-codes-and-their-meanings",level:3},{value:"Getting Help",id:"getting-help",level:2},{value:"Next Steps",id:"next-steps",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,t.jsx)(n.p,{children:"This guide covers common issues you may encounter when using Saturn CLI and how to resolve them for reliable job execution."}),"\n",(0,t.jsx)(n.h2,{id:"connection-issues",children:"Connection Issues"}),"\n",(0,t.jsx)(n.h3,{id:"connection-refused-error",children:'"Connection Refused" Error'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),': Client fails to connect to server with "connection refused" error.']}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Causes and Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Server Not Running"}),": Ensure the Saturn server is running before starting client requests"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# First, start the server\n./saturn_svr\n\n# Then run client commands in another terminal\n./saturn_cli --name hello\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Socket Path Mismatch"}),": Verify that client and server use the same socket path"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'// Server side - make sure to use the same path as client\nserver.NewServer(&utils.DefaultLogger{}, "/tmp/myservice.sock")\n\n// Client side - must match server path\ncli := client.NewClient(&utils.DefaultLogger{}, "/tmp/myservice.sock")\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"File Permissions"}),": Check that your user has permission to access the socket file"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check socket directory permissions\nls -la /tmp/\n\n# Ensure directory is writable by your user\nchmod 755 /tmp\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"socket-file-permission-errors",children:"Socket File Permission Errors"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": Errors creating or accessing socket files."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Check Directory Permissions"}),": Ensure the socket directory is writable"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Check permissions\nls -la /tmp/\n\n# Create directory if needed with proper permissions\nmkdir -p /tmp && chmod 755 /tmp\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Use Writable Path"}),": Use a path where your user has write permissions"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'// Instead of using /root/ (if you\'re not root)\nserver.NewServer(&utils.DefaultLogger{}, "/tmp/saturn.sock")\n\n// Or use user-specific directory\nserver.NewServer(&utils.DefaultLogger{}, "/home/user/.saturn.sock")\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Clean Up Old Sockets"}),": Remove any stale socket files from previous runs"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"rm -f /tmp/saturn.sock\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"job-registration-issues",children:"Job Registration Issues"}),"\n",(0,t.jsx)(n.h3,{id:"job-not-found-error",children:'"Job Not Found" Error'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": Client returns error indicating job name doesn't exist."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Causes and Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Registration Timing"}),": Ensure the job is registered before client attempts to run it"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'// Register jobs BEFORE starting the server\nif err := server.AddJob("hello", func(args map[string]string, signature string) bool {\n    fmt.Println("Hello job executed")\n    return true\n}); err != nil {\n    log.Fatal(err)\n}\n\n// Server can now accept requests for "hello" job\nserver.NewServer(&utils.DefaultLogger{}, "/tmp/saturn.sock").Serve()\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Case Sensitivity"}),": Job names are case-sensitive"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# This job name...\n./saturn_cli --name Hello  # Wrong case\n\n# Should match exactly what's registered\n./saturn_cli --name hello  # Correct\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"platform-specific-issues",children:"Platform-Specific Issues"}),"\n",(0,t.jsx)(n.h3,{id:"windows-tcp-connection-issues",children:"Windows TCP Connection Issues"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": Server runs but client can't connect on Windows."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Port Conflicts"}),": The default port (8096) might be in use"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:"// On Windows, server uses TCP instead of Unix sockets\n// Port is hardcoded in server_windows.go\n// Make sure port 8096 is available\nnetstat -an | grep 8096  // Check if port is in use\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Firewall Issues"}),": Windows firewall might block the connection"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:"// Saturn CLI uses localhost only, so should be allowed by default\n// But if issues persist, check Windows Firewall settings\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"stoppable-job-issues",children:"Stoppable Job Issues"}),"\n",(0,t.jsx)(n.h3,{id:"jobs-dont-stop-when-requested",children:"Jobs Don't Stop When Requested"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": ",(0,t.jsx)(n.code,{children:"--stop"})," flag or ",(0,t.jsx)(n.code,{children:"Ctrl+C"})," doesn't terminate a stoppable job."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Causes and Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Missing Quit Channel Check"}),": Job handler must regularly check the quit channel"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'// Incorrect - doesn\'t check quit channel\nfunc badHandler(args map[string]string, signature string, quit chan struct{}) bool {\n    for i := 0; i < 1000000; i++ {\n        // Does work without checking quit\n        fmt.Printf("Working... %d\\n", i)\n    }\n    return true\n}\n\n// Correct - checks quit channel regularly\nfunc goodHandler(args map[string]string, signature string, quit chan struct{}) bool {\n    for i := 0; i < 1000000; i++ {\n        select {\n        case <-quit:\n            fmt.Printf("Job %s stopped at iteration %d\\n", signature, i)\n            return true\n        default:\n            // Do a small amount of work\n            fmt.Printf("Working... %d\\n", i)\n            \n            // Small sleep to yield to quit check\n            time.Sleep(10 * time.Millisecond)\n        }\n    }\n    return true\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Blocking Operations"}),": Long-running operations should be interruptible"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:"// Use context for I/O operations to make them cancellable\nfunc cancellableIOHandler(args map[string]string, signature string, quit chan struct{}) bool {\n    ctx, cancel := context.WithCancel(context.Background())\n    \n    // Start a goroutine to cancel context when quit is received\n    go func() {\n        <-quit\n        cancel()\n    }()\n    \n    // Use ctx in your I/O operations\n    // ... perform cancellable I/O\n    \n    return true\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"parameter-issues",children:"Parameter Issues"}),"\n",(0,t.jsx)(n.h3,{id:"parameters-not-passed-correctly",children:"Parameters Not Passed Correctly"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": Job handlers receive empty or unexpected parameter values."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Causes and Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Parameter Format"}),": Ensure correct format for different parameter types"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Correct structured parameters\n./saturn_cli --name job --param key1=value1 --param key2=value2\n\n# Correct legacy format\n./saturn_cli --name job --args \'key1=value1&key2=value2\'\n\n# Both can be used together (params take precedence)\n./saturn_cli --name job --args \'common=old\' --param common=new --param other=also_new\n# Results in: {"common": "new", "other": "also_new"}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Special Characters"}),": URL-encode special characters in parameters"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# If your parameter value contains special characters\n./saturn_cli --name job --param message="Hello%20World"  # For "Hello World"\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"performance-issues",children:"Performance Issues"}),"\n",(0,t.jsx)(n.h3,{id:"high-memory-usage",children:"High Memory Usage"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Symptoms"}),": Memory usage grows over time or is higher than expected."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Resource Cleanup"}),": Ensure job handlers properly clean up resources"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'func wellBehavedJob(args map[string]string, signature string) bool {\n    // Open resources\n    file, err := os.Open("path/to/file")\n    if err != nil {\n        return false\n    }\n    defer file.Close()  // Proper cleanup\n    \n    // ... use file\n    \n    return true\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Goroutine Leaks"}),": Don't leave goroutines running after job completion"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:"func leakyJob(args map[string]string, signature string) bool {\n    // This goroutine might run after job completes\n    go func() {\n        // Work that might outlive the function\n    }()\n    return true  // Function returns but goroutine continues\n}\n\nfunc nonLeakyJob(args map[string]string, signature string) bool {\n    done := make(chan bool, 1)\n    go func() {\n        // Work that should complete before function returns\n        // ... do work\n        done <- true\n    }()\n    \n    <-done  // Wait for goroutine to complete\n    return true\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,t.jsx)(n.h3,{id:"enable-detailed-logging",children:"Enable Detailed Logging"}),"\n",(0,t.jsx)(n.p,{children:"Use a logger that provides more detailed output for debugging:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'type DebugLogger struct {\n    *log.Logger\n}\n\nfunc (l *DebugLogger) Debug(msg string) {\n    l.Logger.Printf("[DEBUG] %s", msg)\n}\n\nfunc (l *DebugLogger) Debugf(format string, args ...interface{}) {\n    l.Logger.Printf("[DEBUG] "+format, args...)\n}\n\n// Use the debug logger\ndebugLogger := &DebugLogger{log.New(os.Stdout, "", log.LstdFlags)}\nserver.NewServer(debugLogger, "/tmp/debug.sock").Serve()\n'})}),"\n",(0,t.jsx)(n.h3,{id:"test-job-registration-directly",children:"Test Job Registration Directly"}),"\n",(0,t.jsx)(n.p,{children:"Verify job registration works as expected:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'// Test that your job can be registered and executed\nfunc TestJobRegistration(t *testing.T) {\n    // Register a test job\n    executed := false\n    var executedArgs map[string]string\n    \n    testJob := func(args map[string]string, signature string) bool {\n        executed = true\n        executedArgs = args\n        return true\n    }\n    \n    if err := server.AddJob("test-job", testJob); err != nil {\n        t.Fatalf("Failed to register test job: %v", err)\n    }\n    \n    // Create and run client\n    cli := client.NewClient(&utils.DefaultLogger{}, "/tmp/test.sock")\n    result := cli.Run(&client.Task{\n        Name:   "test-job",\n        Params: map[string]string{"key": "value"},\n    })\n    \n    if result != base.SUCCESS {\n        t.Errorf("Job execution failed, got: %v", result)\n    }\n    \n    if !executed {\n        t.Error("Job was not executed")\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"common-exit-codes-and-their-meanings",children:"Common Exit Codes and Their Meanings"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"0"}),": Success or Interrupt (job completed successfully or was interrupted)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"1"}),": Failure (job returned false, or client/server communication error)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,t.jsx)(n.p,{children:"If you encounter issues not covered in this guide:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check GitHub Issues"}),": Look for similar problems in the ",(0,t.jsx)(n.a,{href:"https://github.com/Kingson4Wu/saturncli/issues",children:"issue tracker"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enable Debug Logging"}),": Add more logging to understand the execution flow"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Verify Installation"}),": Ensure you're using the correct versions of client and server"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test with Examples"}),": Verify basic functionality with the example code"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Create Minimal Reproduction"}),": Create a minimal example that reproduces the issue"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Review the ",(0,t.jsx)(n.a,{href:"/saturncli/docs/architecture",children:"Architecture"})," documentation for deeper understanding"]}),"\n",(0,t.jsxs)(n.li,{children:["Check the ",(0,t.jsx)(n.a,{href:"/saturncli/docs/examples",children:"Examples"})," for correct usage patterns"]}),"\n",(0,t.jsxs)(n.li,{children:["Look at the ",(0,t.jsx)(n.a,{href:"/saturncli/docs/client-api",children:"API Reference"})," for detailed function documentation"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);